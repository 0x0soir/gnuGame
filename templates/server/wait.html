{% extends "server/base.html" %}
{% load staticfiles %}

{% block extra_css %}
    <link rel="stylesheet" type="text/css" href="{% static "css/bootstrap.min.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "css/GPL.css" %}"/>
{% endblock extra_css %}

{% block extra_js %}

<script src="{% static "js/jquery.min.js" %}"></script>
<script src="{% static "js/bootstrap.min.js" %}"></script>

<script type="text/javascript">

    var myRefresh;
    function refresh() {
        $.ajax({
            type: "GET",
            url: "/server/join_game/",
            data: {},
            success: function(data){
                if(data==0){
                    myRefresh = setTimeout(refresh, 2000);
                } else {
                    $(window).attr('location','/server/game/');
                }
            },
            failure: function(errMsg) {
                alert(errMsg);
            }
        })
    }
    refresh();
</script>

{% endblock extra_js %}

{% block content %}
<div>
    <div class="alert alert-danger" role="alert">
        <div class="row">
            <div class="col-lg-10 pull-left">
                <h3>Esperando a que un Proprietary cree un juego...</h3>
            </div>
        </div>
    </div>
    <br/>
    <div class="progress">
      <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width:100%">
      </div>
    </div>
    <center>
        <img src="/static/images/giphy.gif" %}" alt="Cat" width="50%" />
    </center>
</div>
{% endblock content %}
